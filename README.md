<div align="right" style="margin-bottom: 20px;">
  <strong>Language / è¯­è¨€:</strong>
  <a href="#chinese-version">ä¸­æ–‡</a> | 
  <a href="#english-version">English</a>
</div>

---

<a name="chinese-version"></a>
## ğŸ‡¨ğŸ‡³ ä¸­æ–‡ç‰ˆ / Chinese Version

# ç¢³æ’æ”¾ç®¡ç†ç³»ç»Ÿ

ä¸€ä¸ªUIç²¾ç®€ã€ä¼˜ç¾ä¸”å‰åç«¯åˆ†ç¦»çš„ç¢³æ’æ”¾ç®¡ç†ç³»ç»Ÿï¼Œå¯è§†åŒ–ç®¡ç†ç¢³æ’æ”¾æ•°æ®ã€‚
<br>éº»é›€è™½å°ï¼Œäº”è„ä¿±å…¨ã€‚ç³»ç»Ÿé›†æˆäº†JWTæ— çŠ¶æ€è®¤è¯ã€RBACè§’è‰²æƒé™æ ¡éªŒã€æ•°æ®å¯è§†åŒ–ã€æ–‡ä»¶æµå¯¼å‡ºã€çº¿ç¨‹æ± å¼‚æ­¥å¤„ç†ã€ç¼“å­˜é™æµã€AOPè‡ªå®šä¹‰åˆ‡é¢æ³¨è§£ã€è®¾è®¡æ¨¡å¼ç­‰æœ€ä½³å®è·µã€‚

## ğŸ“‹ ç›®å½•

- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [ç³»ç»Ÿæ¶æ„](#ç³»ç»Ÿæ¶æ„)
- [ä¸šåŠ¡äº®ç‚¹](#ä¸šåŠ¡äº®ç‚¹)
- [éƒ¨ç½²ç¯å¢ƒ](#éƒ¨ç½²ç¯å¢ƒ)
- [ä¸€é”®éƒ¨ç½²](#ä¸€é”®éƒ¨ç½²)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)

## ğŸ›  æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| Java | 1.8 | å¼€å‘è¯­è¨€ |
| Spring Boot | 2.6.4 | æ ¸å¿ƒæ¡†æ¶ |
| Spring Security | 2.6.4 | å®‰å…¨æ¡†æ¶ |
| MyBatis Plus | 3.5.1 | ORMæ¡†æ¶ |
| MySQL | 8.0 | å…³ç³»å‹æ•°æ®åº“ |
| Redis | 7 | ç¼“å­˜å’Œé™æµ |
| JWT | 0.9.1 | æ— çŠ¶æ€è®¤è¯ |
| Apache POI | 5.1.0 | Officeæ–‡æ¡£å¤„ç† |
| Apache PDFBox | 2.0.28 | PDFç”Ÿæˆ |
| docx4j | 8.3.15 | Wordæ–‡æ¡£å¤„ç† |
| EasyExcel | 2.2.10 | Excelå¤„ç† |
| Hutool | 5.8.12 | Javaå·¥å…·ç±»åº“ |
| FastJSON | 1.2.80 | JSONå¤„ç† |
| JFreeChart | 1.5.3 | å›¾è¡¨ç”Ÿæˆ |
| ECharts Java | 3.0.0.6 | EChartså°è£… |

### å‰ç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| Vue | 2.5.2 | å‰ç«¯æ¡†æ¶ |
| Element UI | 2.15.6 | UIç»„ä»¶åº“ |
| ECharts | 5.3.1 | æ•°æ®å¯è§†åŒ– |
| Axios | 0.26.1 | HTTPå®¢æˆ·ç«¯ |
| Vue Router | 3.0.1 | è·¯ç”±ç®¡ç† |
| Webpack | 3.6.0 | æ„å»ºå·¥å…· |
| Less | 4.1.2 | CSSé¢„å¤„ç†å™¨ |

### éƒ¨ç½²æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| Docker | Latest | å®¹å™¨åŒ– |
| Docker Compose | Latest | å®¹å™¨ç¼–æ’ |
| Nginx | 1.20-alpine | WebæœåŠ¡å™¨ |
| Tomcat | 9.0-jdk8 | åº”ç”¨æœåŠ¡å™¨ |

## ğŸ— ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å‰ç«¯å±‚ (Vue)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ç™»å½•é¡µ  â”‚  â”‚  å®¡è®¡é¡µ  â”‚  â”‚  å¯¼å‡ºé¡µ  â”‚  â”‚  ç®¡ç†é¡µ  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ HTTP/HTTPS
                       â”‚ JWT Token
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Nginx (åå‘ä»£ç†)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   åç«¯å±‚ (Spring Boot)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚            Spring Security + JWT Filter              â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚  â”‚
â”‚  â”‚  â”‚ è®¤è¯è¿‡æ»¤å™¨   â”‚  â”‚ æƒé™æ ¡éªŒå™¨   â”‚                 â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Controller å±‚ (RESTful API)              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Service å±‚ (ä¸šåŠ¡é€»è¾‘)                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚  â”‚
â”‚  â”‚  â”‚ å¼‚æ­¥å¯¼å‡ºæœåŠ¡ â”‚  â”‚ ç­–ç•¥æ¨¡å¼å·¥å‚ â”‚                 â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              AOP åˆ‡é¢å±‚                               â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚  â”‚
â”‚  â”‚  â”‚ é™æµåˆ‡é¢     â”‚  â”‚ ç¼“å­˜åˆ‡é¢     â”‚                 â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Mapper å±‚ (MyBatis Plus)                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚              â”‚              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
â”‚   MySQL 8.0  â”‚ â”‚  Redis 7  â”‚ â”‚  æ–‡ä»¶ç³»ç»Ÿ  â”‚
â”‚   (æ•°æ®å­˜å‚¨)  â”‚ â”‚ (ç¼“å­˜é™æµ) â”‚ â”‚ (æ–‡ä»¶å¯¼å‡º) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âœ¨ ä¸šåŠ¡äº®ç‚¹

### 1. JWTæ— çŠ¶æ€è®¤è¯

- **æ— çŠ¶æ€è®¾è®¡**ï¼šæœåŠ¡ç«¯ä¸å­˜å‚¨Sessionï¼Œæ‰€æœ‰è®¤è¯ä¿¡æ¯å­˜å‚¨åœ¨JWT Tokenä¸­
- **åŒTokenæœºåˆ¶**ï¼šAccess Tokenï¼ˆ30åˆ†é’Ÿï¼‰+ Refresh Tokenï¼ˆ1å¤©ï¼‰
- **è‡ªåŠ¨åˆ·æ–°**ï¼šå‰ç«¯è‡ªåŠ¨æ£€æµ‹Tokenè¿‡æœŸå¹¶åˆ·æ–°
- **æ¸¸å®¢æ¨¡å¼**ï¼šæ”¯æŒæœªç™»å½•ç”¨æˆ·è®¿é—®å…¬å¼€æ¥å£

**å®ç°ä½ç½®**ï¼š
- `JwtTokenProvider`ï¼šTokenç”Ÿæˆå’ŒéªŒè¯
- `JwtAuthenticationFilter`ï¼šè¯·æ±‚æ‹¦æˆªå’Œè®¤è¯
- `SecurityConfig`ï¼šSpring Securityé…ç½®

### 2. RBACè§’è‰²æƒé™æ ¡éªŒ

- **å¤šè§’è‰²æ”¯æŒ**ï¼šè¶…çº§ç®¡ç†å‘˜ã€ç®¡ç†å‘˜ã€æ™®é€šç”¨æˆ·ã€æ¸¸å®¢
- **æƒé™æ ‘å½¢ç»“æ„**ï¼šæ”¯æŒèœå•æƒé™å’ŒAPIæƒé™çš„æ ‘å½¢ç®¡ç†
- **åŠ¨æ€æƒé™åŠ è½½**ï¼šæ ¹æ®ç”¨æˆ·è§’è‰²åŠ¨æ€åŠ è½½æƒé™
- **æƒé™ç¼“å­˜**ï¼šæ¸¸å®¢æƒé™ç¼“å­˜ï¼Œå‡å°‘æ•°æ®åº“æŸ¥è¯¢

**å®ç°ä½ç½®**ï¼š
- `UserDetailsServiceImpl`ï¼šç”¨æˆ·æƒé™åŠ è½½
- `PermissionMapper`ï¼šæƒé™æ•°æ®æŸ¥è¯¢
- `SecurityPermissionServiceImpl`ï¼šæƒé™æ ¡éªŒæœåŠ¡

### 3. æ•°æ®å¯è§†åŒ–

- **EChartsé›†æˆ**ï¼šä¸°å¯Œçš„å›¾è¡¨ç±»å‹ï¼ˆæŠ˜çº¿å›¾ã€æŸ±çŠ¶å›¾ã€é¥¼å›¾ã€æ¡‘åŸºå›¾ç­‰ï¼‰
- **å®æ—¶æ•°æ®å±•ç¤º**ï¼šæ”¯æŒæŒ‰å¹´ä»½ã€æœˆä»½ã€åœ°ç‚¹ç­›é€‰
- **å¤šç»´åº¦åˆ†æ**ï¼šç¢³æ’æ”¾é‡ã€ç”µè€—ã€å•ä½é¢ç§¯æ’æ”¾ç­‰æŒ‡æ ‡
- **å“åº”å¼è®¾è®¡**ï¼šé€‚é…ä¸åŒå±å¹•å°ºå¯¸

**å®ç°ä½ç½®**ï¼š
- `TanAnalyse.vue`ï¼šæ•°æ®åˆ†æé¡µé¢
- `TanContrast.vue`ï¼šæ•°æ®å¯¹æ¯”é¡µé¢
- `TanMonitor.vue`ï¼šæ•°æ®ç›‘æ§é¡µé¢

### 4. æ–‡ä»¶æµå¯¼å‡ºï¼ˆWord/PDF/Excelï¼‰

- **å¤šæ ¼å¼æ”¯æŒ**ï¼šWord (.docx)ã€PDFã€Excel (.xlsx)
- **æ¨¡æ¿åŒ–å¯¼å‡º**ï¼šåŸºäºWordæ¨¡æ¿ç”ŸæˆæŠ¥å‘Š
- **ä¸­æ–‡æ”¯æŒ**ï¼šå®Œç¾æ”¯æŒä¸­æ–‡å­—ä½“å’Œæ ¼å¼
- **å¤§æ–‡ä»¶å¤„ç†**ï¼šæ”¯æŒå¤§æ•°æ®é‡å¯¼å‡º

**å®ç°ä½ç½®**ï¼š
- `XWPFUtils`ï¼šWordæ–‡æ¡£å¤„ç†å·¥å…·
- `WordExportStrategy`ï¼šWordå¯¼å‡ºç­–ç•¥
- `PdfExportStrategy`ï¼šPDFå¯¼å‡ºç­–ç•¥
- `ExcelExportStrategy`ï¼šExcelå¯¼å‡ºç­–ç•¥

### 5. çº¿ç¨‹æ± å¼‚æ­¥å¤„ç† + è½®è¯¢

- **å¼‚æ­¥ä»»åŠ¡å¤„ç†**ï¼šå¯¼å‡ºä»»åŠ¡å¼‚æ­¥æ‰§è¡Œï¼Œä¸é˜»å¡ä¸»çº¿ç¨‹
- **ä»»åŠ¡çŠ¶æ€è·Ÿè¸ª**ï¼šRediså­˜å‚¨ä»»åŠ¡çŠ¶æ€ï¼Œæ”¯æŒæŸ¥è¯¢
- **å‰ç«¯è½®è¯¢æœºåˆ¶**ï¼šå‰ç«¯æ¯2ç§’è½®è¯¢ä»»åŠ¡çŠ¶æ€
- **æ–‡ä»¶ç¼“å­˜**ï¼šç›¸åŒå‚æ•°çš„å¯¼å‡ºä»»åŠ¡å¤ç”¨ç¼“å­˜æ–‡ä»¶

**å®ç°ä½ç½®**ï¼š
- `AsyncExportService`ï¼šå¼‚æ­¥å¯¼å‡ºæœåŠ¡
- `ExportThreadPoolConfig`ï¼šçº¿ç¨‹æ± é…ç½®
- `TanExport.vue`ï¼šå‰ç«¯è½®è¯¢é€»è¾‘

### 6. Redisç¼“å­˜å’Œé™æµ

- **æ¥å£é™æµ**ï¼šåŸºäºAOPçš„æ³¨è§£å¼é™æµï¼Œæ”¯æŒIPé™æµå’Œæ¥å£é™æµ
- **æ•°æ®ç¼“å­˜**ï¼šçƒ­ç‚¹æ•°æ®ç¼“å­˜ï¼Œå‡å°‘æ•°æ®åº“å‹åŠ›
- **æ–‡ä»¶ç¼“å­˜**ï¼šå¯¼å‡ºæ–‡ä»¶ç¼“å­˜ï¼Œé¿å…é‡å¤ç”Ÿæˆ
- **ä»»åŠ¡çŠ¶æ€å­˜å‚¨**ï¼šå¼‚æ­¥ä»»åŠ¡çŠ¶æ€å­˜å‚¨åœ¨Redis

**å®ç°ä½ç½®**ï¼š
- `RateLimitAspect`ï¼šé™æµåˆ‡é¢
- `CacheAspect`ï¼šç¼“å­˜åˆ‡é¢
- `RedisService`ï¼šRediså·¥å…·ç±»

### 7. AOPè‡ªå®šä¹‰åˆ‡é¢æ³¨è§£

- **é™æµæ³¨è§£**ï¼š`@RateLimit`ï¼Œæ”¯æŒIPå’Œæ¥å£åŒé‡é™æµ
- **ç¼“å­˜æ³¨è§£**ï¼š`@RedisCache`ï¼Œè‡ªåŠ¨ç¼“å­˜æ–¹æ³•è¿”å›å€¼
- **åˆ‡é¢å¤ç”¨**ï¼šç»Ÿä¸€çš„åˆ‡é¢é€»è¾‘ï¼Œå‡å°‘é‡å¤ä»£ç 

**å®ç°ä½ç½®**ï¼š
- `annotation/RateLimit.java`ï¼šé™æµæ³¨è§£
- `annotation/RedisCache.java`ï¼šç¼“å­˜æ³¨è§£
- `aspect/RateLimitAspect.java`ï¼šé™æµåˆ‡é¢
- `aspect/CacheAspect.java`ï¼šç¼“å­˜åˆ‡é¢

### 8. è®¾è®¡æ¨¡å¼åº”ç”¨

- **ç­–ç•¥æ¨¡å¼**ï¼šå¯¼å‡ºç­–ç•¥ï¼ˆWord/PDF/Excelï¼‰ä½¿ç”¨ç­–ç•¥æ¨¡å¼
- **å·¥å‚æ¨¡å¼**ï¼š`ExportStrategyFactory`åˆ›å»ºä¸åŒçš„å¯¼å‡ºç­–ç•¥
- **å•ä¾‹æ¨¡å¼**ï¼šå·¥å…·ç±»ä½¿ç”¨å•ä¾‹æ¨¡å¼
- **æ¨¡æ¿æ–¹æ³•æ¨¡å¼**ï¼šå¯¼å‡ºæµç¨‹ä½¿ç”¨æ¨¡æ¿æ–¹æ³•

**å®ç°ä½ç½®**ï¼š
- `strategy/ExportStrategy.java`ï¼šç­–ç•¥æ¥å£
- `strategy/ExportStrategyFactory.java`ï¼šç­–ç•¥å·¥å‚

## ğŸš€ éƒ¨ç½²ç¯å¢ƒ

### ç¯å¢ƒè¦æ±‚

| è½¯ä»¶ | ç‰ˆæœ¬è¦æ±‚ | è¯´æ˜ |
|------|---------|------|
| JDK | 1.8+ | Javaå¼€å‘ç¯å¢ƒ |
| Maven | 3.6+ | é¡¹ç›®æ„å»ºå·¥å…· |
| Node.js | 6.0+ | å‰ç«¯æ„å»ºç¯å¢ƒ |
| npm | 3.0+ | NodeåŒ…ç®¡ç†å™¨ |
| Docker | Latest | å®¹å™¨è¿è¡Œæ—¶ |
| Docker Compose | Latest | å®¹å™¨ç¼–æ’å·¥å…· |

### æ•°æ®åº“é…ç½®

- **æ•°æ®åº“å**ï¼š`sys_carbon`
- **å­—ç¬¦é›†**ï¼š`utf8mb4`
- **é»˜è®¤ç”¨æˆ·**ï¼š`root`
- **é»˜è®¤å¯†ç **ï¼š`123456`

> âš ï¸ **å®‰å…¨æç¤º**ï¼šç”Ÿäº§ç¯å¢ƒè¯·ä¿®æ”¹é»˜è®¤å¯†ç å’Œç«¯å£é…ç½®

## ğŸ“¦ ä¸€é”®éƒ¨ç½²

### å¿«é€Ÿå¼€å§‹

ä¸€é”®éƒ¨ç½²è„šæœ¬ï¼Œåªéœ€æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
# è¿›å…¥dockerç›®å½•
cd docker

# èµ‹äºˆæ‰§è¡Œæƒé™ï¼ˆLinux/Macï¼‰
chmod +x deploy.sh

# æ‰§è¡Œä¸€é”®éƒ¨ç½²è„šæœ¬
./deploy.sh
```

### éƒ¨ç½²è„šæœ¬åŠŸèƒ½

`deploy.sh`è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆä»¥ä¸‹æ“ä½œï¼š

1. **ç¯å¢ƒæ£€æŸ¥**ï¼šæ£€æŸ¥Mavenã€npmã€Dockerç­‰å¿…è¦å·¥å…·
2. **åç«¯æ‰“åŒ…**ï¼šä½¿ç”¨Mavenæ‰“åŒ…åç«¯é¡¹ç›®ï¼Œç”ŸæˆWARåŒ…
3. **å‰ç«¯æ‰“åŒ…**ï¼šä½¿ç”¨npmæ„å»ºå‰ç«¯é¡¹ç›®ï¼Œç”Ÿæˆdistç›®å½•
4. **æ–‡ä»¶å¤åˆ¶**ï¼šå°†æ‰“åŒ…äº§ç‰©å¤åˆ¶åˆ°dockerç›®å½•
5. **å®¹å™¨å¯åŠ¨**ï¼šä½¿ç”¨Docker Composeå¯åŠ¨æ‰€æœ‰æœåŠ¡

### éƒ¨ç½²æµç¨‹

```mermaid
graph TD
    A[å¼€å§‹éƒ¨ç½²] --> B[æ£€æŸ¥ç¯å¢ƒå·¥å…·]
    B --> C{å·¥å…·é½å…¨?}
    C -->|å¦| D[æŠ¥é”™é€€å‡º]
    C -->|æ˜¯| E[æ‰“åŒ…åç«¯é¡¹ç›®]
    E --> F[å¤åˆ¶WARåŒ…åˆ°docker/backend]
    F --> G[æ‰“åŒ…å‰ç«¯é¡¹ç›®]
    G --> H[å¤åˆ¶diståˆ°docker/frontend]
    H --> I[æ£€æŸ¥é…ç½®æ–‡ä»¶]
    I --> J[åœæ­¢æ—§å®¹å™¨]
    J --> K[å¯åŠ¨Docker Compose]
    K --> L[ç­‰å¾…å®¹å™¨å¯åŠ¨]
    L --> M[æ˜¾ç¤ºè®¿é—®åœ°å€]
    M --> N[éƒ¨ç½²å®Œæˆ]
```

### è®¿é—®åœ°å€

éƒ¨ç½²æˆåŠŸåï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®ï¼š

- **å‰ç«¯åœ°å€**ï¼šhttp://localhost:4432
- **åç«¯API**ï¼šhttp://localhost:12306/api
- **æ•°æ®åº“**ï¼šlocalhost:4436
- **Redis**ï¼šlocalhost:4439

### åœæ­¢æœåŠ¡

```bash
cd docker
docker-compose down
```

### é‡å¯æœåŠ¡

```bash
cd docker
docker-compose restart
```

### æ¸…ç†æ•°æ®ï¼ˆè°¨æ…æ“ä½œï¼‰

```bash
cd docker
# åœæ­¢å¹¶åˆ é™¤å®¹å™¨å’Œæ•°æ®å·
docker-compose down -v
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
carbon_emission_system/
â”œâ”€â”€ carbon-emission-backend/          # åç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”‚   â”œâ”€â”€ java/com/bjfu/carbon/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ annotation/      # è‡ªå®šä¹‰æ³¨è§£ï¼ˆé™æµã€ç¼“å­˜ï¼‰
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ aspect/          # AOPåˆ‡é¢
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ config/          # é…ç½®ç±»
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ controller/      # æ§åˆ¶å™¨å±‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ domain/          # å®ä½“ç±»
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ mapper/          # MyBatis Mapper
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ security/        # å®‰å…¨ç›¸å…³ï¼ˆJWTã€æƒé™ï¼‰
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ service/         # æœåŠ¡å±‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ strategy/        # ç­–ç•¥æ¨¡å¼ï¼ˆå¯¼å‡ºç­–ç•¥ï¼‰
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ utils/           # å·¥å…·ç±»
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ vo/              # è§†å›¾å¯¹è±¡
â”‚   â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚   â”‚       â”œâ”€â”€ mapper/          # MyBatis XMLæ˜ å°„æ–‡ä»¶
â”‚   â”‚   â”‚       â”œâ”€â”€ sql/             # SQLè„šæœ¬
â”‚   â”‚   â”‚       â””â”€â”€ application.yml  # é…ç½®æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ test/                     # æµ‹è¯•ä»£ç 
â”‚   â””â”€â”€ pom.xml                       # Mavené…ç½®
â”‚
â”œâ”€â”€ carbon-emission-front/            # å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/                     # APIæ¥å£å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ assets/                  # é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ components/              # Vueç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ page/                    # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ admin/               # ç®¡ç†å‘˜é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ tan/                 # ç¢³æ’æ”¾ç›¸å…³é¡µé¢
â”‚   â”‚   â”œâ”€â”€ router/                  # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ utils/                   # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ build/                       # Webpackæ„å»ºé…ç½®
â”‚   â”œâ”€â”€ config/                      # é¡¹ç›®é…ç½®
â”‚   â””â”€â”€ package.json                 # npmé…ç½®
â”‚
â””â”€â”€ docker/                          # Dockeréƒ¨ç½²é…ç½®
    â”œâ”€â”€ backend/                     # åç«¯éƒ¨ç½²æ–‡ä»¶
    â”‚   â”œâ”€â”€ fonts/                   # å­—ä½“æ–‡ä»¶
    â”‚   â””â”€â”€ sys_carbon-0.0.1-SNAPSHOT.war
    â”œâ”€â”€ frontend/                    # å‰ç«¯éƒ¨ç½²æ–‡ä»¶
    â”‚   â”œâ”€â”€ dist/                    # å‰ç«¯æ„å»ºäº§ç‰©
    â”‚   â””â”€â”€ default.conf             # Nginxé…ç½®
    â”œâ”€â”€ docker-compose.yml           # Docker Composeé…ç½®
    â””â”€â”€ deploy.sh                    # ä¸€é”®éƒ¨ç½²è„šæœ¬
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [LICENSE](LICENSE) è®¸å¯è¯ã€‚

## ğŸ™ åè¯

é¡¹ç›®å¾ˆè½»é‡ï¼Œä¸»è¦æ˜¯æä¾›å¹³å°ï¼Œæ¬¢è¿æäº¤ Issue å’Œ Pull Request ä»¥æ­¤ä¸ºåŸºï¼Œæ·»åŠ ä½ è§‰å¾—èƒ½æœ‰ä»·å€¼çš„åŠŸèƒ½ç‚¹ï¼Œå±•ç¤ºæŠ€æœ¯å®åŠ›ï¼Œä¸€èµ·æˆä¸ºæœ¬é¡¹ç›®çš„å¼€æºè´¡çŒ®è€…ã€‚

---

<a name="english-version"></a>
## ğŸ‡¬ğŸ‡§ English Version / è‹±æ–‡ç‰ˆ

# Carbon Emission Management System

A lightweight, elegant, and frontend-backend separated carbon emission management system for visualizing and managing carbon emission data.
<br>Small but complete. The system integrates best practices including JWT stateless authentication, RBAC role-based access control, data visualization, file stream export, thread pool asynchronous processing, caching and rate limiting, AOP custom aspect annotations, and design patterns.

## ğŸ“‹ Table of Contents

- [Tech Stack](#tech-stack)
- [System Architecture](#system-architecture)
- [Business Highlights](#business-highlights)
- [Deployment Environment](#deployment-environment)
- [One-Click Deployment](#one-click-deployment)
- [Project Structure](#project-structure)

## ğŸ›  Tech Stack

### Backend Tech Stack

| Technology | Version | Description |
|------------|---------|-------------|
| Java | 1.8 | Programming Language |
| Spring Boot | 2.6.4 | Core Framework |
| Spring Security | 2.6.4 | Security Framework |
| MyBatis Plus | 3.5.1 | ORM Framework |
| MySQL | 8.0 | Relational Database |
| Redis | 7 | Caching and Rate Limiting |
| JWT | 0.9.1 | Stateless Authentication |
| Apache POI | 5.1.0 | Office Document Processing |
| Apache PDFBox | 2.0.28 | PDF Generation |
| docx4j | 8.3.15 | Word Document Processing |
| EasyExcel | 2.2.10 | Excel Processing |
| Hutool | 5.8.12 | Java Utility Library |
| FastJSON | 1.2.80 | JSON Processing |
| JFreeChart | 1.5.3 | Chart Generation |
| ECharts Java | 3.0.0.6 | ECharts Wrapper |

### Frontend Tech Stack

| Technology | Version | Description |
|------------|---------|-------------|
| Vue | 2.5.2 | Frontend Framework |
| Element UI | 2.15.6 | UI Component Library |
| ECharts | 5.3.1 | Data Visualization |
| Axios | 0.26.1 | HTTP Client |
| Vue Router | 3.0.1 | Route Management |
| Webpack | 3.6.0 | Build Tool |
| Less | 4.1.2 | CSS Preprocessor |

### Deployment Tech Stack

| Technology | Version | Description |
|------------|---------|-------------|
| Docker | Latest | Containerization |
| Docker Compose | Latest | Container Orchestration |
| Nginx | 1.20-alpine | Web Server |
| Tomcat | 9.0-jdk8 | Application Server |

## ğŸ— System Architecture

### Overall Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Frontend Layer (Vue)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Login   â”‚  â”‚  Audit   â”‚  â”‚  Export  â”‚  â”‚  Admin   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ HTTP/HTTPS
                       â”‚ JWT Token
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Nginx (Reverse Proxy)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Backend Layer (Spring Boot)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚            Spring Security + JWT Filter              â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚  â”‚
â”‚  â”‚  â”‚ Auth Filter   â”‚  â”‚ Permission   â”‚                 â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Controller Layer (RESTful API)            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Service Layer (Business Logic)           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚  â”‚
â”‚  â”‚  â”‚ Async Export â”‚  â”‚ Strategy      â”‚                 â”‚  â”‚
â”‚  â”‚  â”‚ Service      â”‚  â”‚ Factory      â”‚                 â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              AOP Aspect Layer                         â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚  â”‚
â”‚  â”‚  â”‚ Rate Limit   â”‚  â”‚ Cache        â”‚                 â”‚  â”‚
â”‚  â”‚  â”‚ Aspect       â”‚  â”‚ Aspect       â”‚                 â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Mapper Layer (MyBatis Plus)              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚              â”‚              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
â”‚  MySQL 8.0   â”‚ â”‚  Redis 7  â”‚ â”‚ File      â”‚
â”‚  (Database)  â”‚ â”‚ (Cache &  â”‚ â”‚ System    â”‚
â”‚              â”‚ â”‚  Rate     â”‚ â”‚ (Export)  â”‚
â”‚              â”‚ â”‚  Limit)   â”‚ â”‚           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âœ¨ Business Highlights

### 1. JWT Stateless Authentication

- **Stateless Design**: Server does not store sessions, all authentication information is stored in JWT tokens
- **Dual Token Mechanism**: Access Token (30 minutes) + Refresh Token (1 day)
- **Auto Refresh**: Frontend automatically detects token expiration and refreshes
- **Guest Mode**: Supports unauthenticated users accessing public interfaces

**Implementation Locations**:
- `JwtTokenProvider`: Token generation and validation
- `JwtAuthenticationFilter`: Request interception and authentication
- `SecurityConfig`: Spring Security configuration

### 2. RBAC Role-Based Access Control

- **Multi-Role Support**: Super Admin, Admin, Regular User, Guest
- **Permission Tree Structure**: Supports tree management of menu permissions and API permissions
- **Dynamic Permission Loading**: Loads permissions dynamically based on user roles
- **Permission Caching**: Guest permission caching to reduce database queries

**Implementation Locations**:
- `UserDetailsServiceImpl`: User permission loading
- `PermissionMapper`: Permission data queries
- `SecurityPermissionServiceImpl`: Permission validation service

### 3. Data Visualization

- **ECharts Integration**: Rich chart types (line charts, bar charts, pie charts, Sankey diagrams, etc.)
- **Real-time Data Display**: Supports filtering by year, month, and location
- **Multi-dimensional Analysis**: Carbon emission, power consumption, emission per unit area, and other indicators
- **Responsive Design**: Adapts to different screen sizes

**Implementation Locations**:
- `TanAnalyse.vue`: Data analysis page
- `TanContrast.vue`: Data comparison page
- `TanMonitor.vue`: Data monitoring page

### 4. File Stream Export (Word/PDF/Excel)

- **Multi-format Support**: Word (.docx), PDF, Excel (.xlsx)
- **Template-based Export**: Generates reports based on Word templates
- **Chinese Support**: Perfect support for Chinese fonts and formatting
- **Large File Handling**: Supports large data volume exports

**Implementation Locations**:
- `XWPFUtils`: Word document processing utility
- `WordExportStrategy`: Word export strategy
- `PdfExportStrategy`: PDF export strategy
- `ExcelExportStrategy`: Excel export strategy

### 5. Thread Pool Asynchronous Processing + Polling

- **Asynchronous Task Processing**: Export tasks execute asynchronously without blocking the main thread
- **Task Status Tracking**: Redis stores task status for querying
- **Frontend Polling Mechanism**: Frontend polls task status every 2 seconds
- **File Caching**: Export tasks with the same parameters reuse cached files

**Implementation Locations**:
- `AsyncExportService`: Asynchronous export service
- `ExportThreadPoolConfig`: Thread pool configuration
- `TanExport.vue`: Frontend polling logic

### 6. Redis Caching and Rate Limiting

- **Interface Rate Limiting**: Annotation-based rate limiting using AOP, supports IP and interface rate limiting
- **Data Caching**: Hotspot data caching to reduce database pressure
- **File Caching**: Export file caching to avoid duplicate generation
- **Task Status Storage**: Asynchronous task status stored in Redis

**Implementation Locations**:
- `RateLimitAspect`: Rate limiting aspect
- `CacheAspect`: Caching aspect
- `RedisService`: Redis utility class

### 7. AOP Custom Aspect Annotations

- **Rate Limiting Annotation**: `@RateLimit`, supports dual rate limiting for IP and interface
- **Cache Annotation**: `@RedisCache`, automatically caches method return values
- **Aspect Reuse**: Unified aspect logic to reduce duplicate code

**Implementation Locations**:
- `annotation/RateLimit.java`: Rate limiting annotation
- `annotation/RedisCache.java`: Cache annotation
- `aspect/RateLimitAspect.java`: Rate limiting aspect
- `aspect/CacheAspect.java`: Cache aspect

### 8. Design Pattern Applications

- **Strategy Pattern**: Export strategies (Word/PDF/Excel) use the strategy pattern
- **Factory Pattern**: `ExportStrategyFactory` creates different export strategies
- **Singleton Pattern**: Utility classes use singleton pattern
- **Template Method Pattern**: Export process uses template method

**Implementation Locations**:
- `strategy/ExportStrategy.java`: Strategy interface
- `strategy/ExportStrategyFactory.java`: Strategy factory

## ğŸš€ Deployment Environment

### Environment Requirements

| Software | Version Requirement | Description |
|----------|---------------------|-------------|
| JDK | 1.8+ | Java Development Environment |
| Maven | 3.6+ | Project Build Tool |
| Node.js | 6.0+ | Frontend Build Environment |
| npm | 3.0+ | Node Package Manager |
| Docker | Latest | Container Runtime |
| Docker Compose | Latest | Container Orchestration Tool |

### Database Configuration

- **Database Name**: `sys_carbon`
- **Character Set**: `utf8mb4`
- **Default User**: `root`
- **Default Password**: `123456`

> âš ï¸ **Security Notice**: Please modify default passwords and port configurations in production environments

## ğŸ“¦ One-Click Deployment

### Quick Start

One-click deployment script, just execute the following commands:

```bash
# Navigate to docker directory
cd docker

# Grant execute permission (Linux/Mac)
chmod +x deploy.sh

# Execute one-click deployment script
./deploy.sh
```

### Deployment Script Functions

The `deploy.sh` script automatically completes the following operations:

1. **Environment Check**: Checks necessary tools like Maven, npm, Docker
2. **Backend Build**: Uses Maven to build the backend project and generate WAR package
3. **Frontend Build**: Uses npm to build the frontend project and generate dist directory
4. **File Copy**: Copies build artifacts to docker directory
5. **Container Startup**: Uses Docker Compose to start all services

### Deployment Flow

```mermaid
graph TD
    A[Start Deployment] --> B[Check Environment Tools]
    B --> C{Tools Available?}
    C -->|No| D[Error Exit]
    C -->|Yes| E[Build Backend Project]
    E --> F[Copy WAR to docker/backend]
    F --> G[Build Frontend Project]
    G --> H[Copy dist to docker/frontend]
    H --> I[Check Config Files]
    I --> J[Stop Old Containers]
    J --> K[Start Docker Compose]
    K --> L[Wait for Containers]
    L --> M[Display Access URLs]
    M --> N[Deployment Complete]
```

### Access Addresses

After successful deployment, access via the following addresses:

- **Frontend**: http://localhost:4432
- **Backend API**: http://localhost:12306/api
- **Database**: localhost:4436
- **Redis**: localhost:4439

### Stop Services

```bash
cd docker
docker-compose down
```

### Restart Services

```bash
cd docker
docker-compose restart
```

### Clean Data (Use with Caution)

```bash
cd docker
# Stop and remove containers and volumes
docker-compose down -v
```

## ğŸ“ Project Structure

```
carbon_emission_system/
â”œâ”€â”€ carbon-emission-backend/          # Backend Project
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”‚   â”œâ”€â”€ java/com/bjfu/carbon/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ annotation/      # Custom Annotations (Rate Limit, Cache)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ aspect/          # AOP Aspects
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ config/          # Configuration Classes
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ controller/      # Controller Layer
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ domain/          # Entity Classes
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ mapper/          # MyBatis Mapper
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ security/        # Security Related (JWT, Permissions)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ service/         # Service Layer
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ strategy/        # Strategy Pattern (Export Strategies)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ utils/           # Utility Classes
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ vo/              # View Objects
â”‚   â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚   â”‚       â”œâ”€â”€ mapper/          # MyBatis XML Mapping Files
â”‚   â”‚   â”‚       â”œâ”€â”€ sql/             # SQL Scripts
â”‚   â”‚   â”‚       â””â”€â”€ application.yml  # Configuration File
â”‚   â”‚   â””â”€â”€ test/                     # Test Code
â”‚   â””â”€â”€ pom.xml                       # Maven Configuration
â”‚
â”œâ”€â”€ carbon-emission-front/            # Frontend Project
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/                     # API Interface Definitions
â”‚   â”‚   â”œâ”€â”€ assets/                  # Static Resources
â”‚   â”‚   â”œâ”€â”€ components/              # Vue Components
â”‚   â”‚   â”œâ”€â”€ page/                    # Page Components
â”‚   â”‚   â”‚   â”œâ”€â”€ admin/               # Admin Pages
â”‚   â”‚   â”‚   â””â”€â”€ tan/                 # Carbon Emission Related Pages
â”‚   â”‚   â”œâ”€â”€ router/                  # Route Configuration
â”‚   â”‚   â””â”€â”€ utils/                   # Utility Functions
â”‚   â”œâ”€â”€ build/                       # Webpack Build Configuration
â”‚   â”œâ”€â”€ config/                      # Project Configuration
â”‚   â””â”€â”€ package.json                 # npm Configuration
â”‚
â””â”€â”€ docker/                          # Docker Deployment Configuration
    â”œâ”€â”€ backend/                     # Backend Deployment Files
    â”‚   â”œâ”€â”€ fonts/                   # Font Files
    â”‚   â””â”€â”€ sys_carbon-0.0.1-SNAPSHOT.war
    â”œâ”€â”€ frontend/                    # Frontend Deployment Files
    â”‚   â”œâ”€â”€ dist/                    # Frontend Build Artifacts
    â”‚   â””â”€â”€ default.conf             # Nginx Configuration
    â”œâ”€â”€ docker-compose.yml           # Docker Compose Configuration
    â””â”€â”€ deploy.sh                    # One-Click Deployment Script
```

## ğŸ“„ License

This project is licensed under the [LICENSE](LICENSE) license.

## ğŸ™ Closing Words

The project is lightweight and mainly provides a platform. We welcome Issue submissions and Pull Requests. Based on this foundation, add features you think would be valuable, showcase your technical skills, and become an open source contributor to this project together.
